{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Sid": "CloudFormation",
			"Effect": "Allow",
			"Action": [
				"cloudformation:CreateStack",
				"cloudformation:UpdateStack",
				"cloudformation:DeleteStack",
				"cloudformation:DescribeStacks",
				"cloudformation:DescribeStackEvents",
				"cloudformation:DescribeStackResources",
				"cloudformation:GetTemplate"
			],
			"Resource": "arn:aws:cloudformation:*:430118819356:stack/qnl-*/*"
		},
		{
			"Sid": "CloudFormationList",
			"Effect": "Allow",
			"Action": "cloudformation:ListStacks",
			"Resource": "*"
		},
		{
			"Sid": "TemplateBucketObjects",
			"Effect": "Allow",
			"Action": [
				"s3:PutObject",
				"s3:GetObject",
				"s3:DeleteObject"
			],
			"Resource": "arn:aws:s3:::qnl-deploy-templates/*"
		},
		{
			"Sid": "TemplateBucketList",
			"Effect": "Allow",
			"Action": [
				"s3:ListBucket",
				"s3:GetBucketLocation"
			],
			"Resource": "arn:aws:s3:::qnl-deploy-templates"
		},
		{
			"Sid": "PassCFNRole",
			"Effect": "Allow",
			"Action": "iam:PassRole",
			"Resource": "arn:aws:iam::430118819356:role/qnl-cfn-role",
			"Condition": {
				"StringEquals": {
					"iam:PassedToService": "cloudformation.amazonaws.com"
				}
			}
		},
		{
			"Sid": "AssumeDeployRoles",
			"Effect": "Allow",
			"Action": "sts:AssumeRole",
			"Resource": "arn:aws:iam::430118819356:role/qnl-*-deploy-role-*"
		},
		{
			"Sid": "IAMReadRole",
			"Effect": "Allow",
			"Action": "iam:GetRole",
			"Resource": "arn:aws:iam::430118819356:role/qnl-cfn-role"
		},
		{
			"Sid": "ECRFullAccess",
			"Effect": "Allow",
			"Action": "ecr:*",
			"Resource": "*"
		},
		{
			"Sid": "ECSUpdateService",
			"Effect": "Allow",
			"Action": "ecs:UpdateService",
			"Resource": "arn:aws:ecs:ap-southeast-2:430118819356:service/qnl-orchestrator-prod/*"
		}
	]
}